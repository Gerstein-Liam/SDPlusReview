<UserControl x:Class="WPF.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WPF.Views"
             xmlns:dashitems="clr-namespace:WPF.Views.DashboardItems"
             xmlns:viewmodels="clr-namespace:WPF.ViewModels"
             xmlns:esri="http://schemas.esri.com/arcgis/runtime/2013"
             xmlns:materialIcons="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF"
             xmlns:demomapview="clr-namespace:WPF.CustomArcGisLibrary.ExampleUsage"
             xmlns:converters="clr-namespace:WPF.Converters"
   mc:Ignorable="d"
   d:DataContext="{d:DesignInstance viewmodels:DashboardViewModel}"
             d:DesignHeight="1080" d:DesignWidth="1920">
    <UserControl.Resources>
        <converters:InverseBooleanToInvisibilityConverter x:Key="InverseBooleanToInvisibilityConverter"/>
    </UserControl.Resources>
    <Grid Background="WhiteSmoke">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <dashitems:OwnerEdit Panel.ZIndex="2" HorizontalAlignment="Center"  DataContext="{Binding OwnerEditVM}" VerticalAlignment="Center" Width="400" Visibility="{Binding ShowMe,Converter={StaticResource InverseBooleanToInvisibilityConverter}}"  />
        <dashitems:PropertyEdit Panel.ZIndex="2" HorizontalAlignment="Center"  DataContext="{Binding PropertyEditVM}" VerticalAlignment="Center" Width="660" Height="330" Visibility="{Binding ShowMe,Converter={StaticResource InverseBooleanToInvisibilityConverter}}"  />
        <Grid Panel.ZIndex="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border HorizontalAlignment="Left" Width="400" CornerRadius="4"  Height="40"   Background="White" Margin="10 20 10 10" Padding="3" Visibility="{Binding ShowBackendPanel,Converter={StaticResource InverseBooleanToInvisibilityConverter}}">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="*"/>

                    </Grid.ColumnDefinitions>
                    <Label Content="Valider changement sur base de données" VerticalAlignment="Center"/>
                    <Button Grid.Column="1"  Content="{materialIcons:MaterialIconExt Kind=Database, Size=30}"  VerticalContentAlignment="Center" Command="{Binding SyncDBCommandBt}"  ToolTip="Sync with Db"   HorizontalAlignment="Stretch"/>
                </Grid>
            </Border>
            <dashitems:PropertiesListingView Grid.Row="1" x:Name="propertiesListingView" DataContext="{Binding ListViewModel}" HorizontalAlignment="Left" Width="400" Margin="10 2 10 10" ></dashitems:PropertiesListingView>
        </Grid>
        <demomapview:MapViewCustomControl ViewModel="{Binding MapViewModel}"></demomapview:MapViewCustomControl>
        <Grid>
            <Border HorizontalAlignment="Center"  VerticalAlignment="Bottom" CornerRadius="2" Margin="0 0 0 10">
                <Grid Width="900">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="auto"/>
                    </Grid.RowDefinitions>
 
                    <dashitems:CurrentSelectionInfoView x:Name="ContextualArea" DataContext="{Binding CurrentSelectionVM}"  Margin="0 0 0 2" Grid.Row="1" Height="250" HorizontalAlignment="Stretch" VerticalAlignment="Bottom"/>
                    <dashitems:DebugPanelView DataContext="{Binding}" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Bottom" Visibility="{Binding ShowDebugPanel,Converter={StaticResource InverseBooleanToInvisibilityConverter}}" />
                    <!--<dashitems:BackendStatusBannerView Grid.Row="2" HorizontalAlignment="Center" VerticalAlignment="Bottom"/>-->
                </Grid>
            </Border>
        </Grid>
        <dashitems:SearchAdressView x:Name="AdressListContainer"   DataContext="{Binding SearchAdressViewModel}" Width="400" Grid.Row="0" HorizontalAlignment="Right" Margin="0 20 0 0"/>
    </Grid>
</UserControl>